<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="glass-counteiner">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/SENAI_logo_2024.png" alt="Logo SENAI">
    <h2>Cadastro</h2>
    <form id="cadastroForm">
      <div class="input-group">
        <input type="text" id="matricula" name="matricula" placeholder=" " required>
        <label>Matr√≠cula</label>
      </div>
      <div class="input-group">
        <input type="email" id="email" name="email" placeholder=" " required>
        <label>E-mail</label>
      </div>
      <div class="input-group">
        <input type="password" id="senha" name="senha" placeholder=" " required>
        <label>Senha</label>
      </div>
      <button type="submit" class="cadastro-btn">Cadastrar</button>
    </form>
  </div>

<script>
const endpointPost = "https://script.google.com/macros/s/AKfycbwT8Zww33-_71BmOaU8YuhY70PRmZd2q3jVd8WuwNL0bB8LLs5L4nF7QwpLzrBsxf4lNw/exec";

document.getElementById('cadastroForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const data = {
    matricula: document.getElementById('matricula').value.trim(),
    email: document.getElementById('email').value.trim(),
    senha: document.getElementById('senha').value.trim()
  };

  try {
    const res = await fetch(endpointPost, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    const resposta = await res.json();

    alert(resposta.mensagem);
    if(resposta.status === "sucesso") this.reset();

  } catch (erro) {
    console.error("Erro ao enviar cadastro:", erro);
    alert("Erro ao conectar com o servidor.");
  }
});
</script>
</body>
</html>
